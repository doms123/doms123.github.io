{"version":3,"sources":["../../src/pages/individual-chat/individual-chat.module.ts","../../src/pages/individual-chat/individual-chat.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { IndividualChatPage } from './individual-chat';\n\n@NgModule({\n  declarations: [\n    IndividualChatPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(IndividualChatPage),\n  ],\n})\nexport class IndividualChatPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/individual-chat/individual-chat.module.ts","import { ChatProvider } from './../../providers/chat/chat';\r\nimport { Component, ViewChild, ElementRef } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-individual-chat',\r\n  templateUrl: 'individual-chat.html',\r\n})\r\nexport class IndividualChatPage {\r\n  recieverId:string;\r\n  receiverName:string;\r\n  receiverStatus:string;\r\n  tabBarElement:any;\r\n  chatMsg:string;\r\n  chatRoom:string;\r\n  chats:any;\r\n  lastChatKey:string = '';\r\n  counter:number = 0;\r\n\r\n  @ViewChild('content') content;\r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams,\r\n    public chatProvider: ChatProvider\r\n  ) {\r\n    this.recieverId     = navParams.get('key');\r\n    this.receiverName   = navParams.get('displayName');\r\n    this.receiverStatus = navParams.get('status');\r\n    this.tabBarElement  = document.querySelector(\".tabbar.show-tabbar\");\r\n    this.removeUnreadMsg();\r\n    this.chats = '';\r\n    this.loadChats();\r\n  }\r\n\r\n  scrollToBottom() {\r\n    this.content.nativeElement.scrollIntoView(false);\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.tabBarElement.style.display = \"none\";\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    this.tabBarElement.style.display = \"flex\";\r\n  }\r\n\r\n  sendMessage() {\r\n    console.log('this.recieverId', this.recieverId)\r\n    this.chatProvider.sendMessage(this.chatMsg, this.recieverId);\r\n    this.chatMsg = \"\";\r\n    this.removeUnreadMsg();\r\n    setTimeout(() => {\r\n      this.scrollToBottom();\r\n    }, 200);\r\n  }\r\n\r\n  loadChats() {\r\n    this.chatProvider.loadChats().then(chats => {\r\n      this.chats = chats;\r\n      setTimeout(() => {\r\n        this.scrollToBottom();\r\n      }, 400);\r\n    });\r\n  }\r\n\r\n  removeUnreadMsg() {\r\n    this.chatProvider.getRemoveUnreadMsg();\r\n  }\r\n\r\n  doInfinite(infiniteScroll) {\r\n    this.chatProvider.scrollChats().then(chats => {\r\n      this.chats = chats;\r\n      infiniteScroll.complete();\r\n    });\r\n    // console.log('Begin async operation');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/individual-chat/individual-chat.ts"],"sourceRoot":""}