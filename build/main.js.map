{"version":3,"sources":["../../src/providers/auth/auth.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/providers/chat/chat.ts","../../src/providers/pushnotif/pushnotif.ts","../../src/providers/notif/notif.ts","../../src/providers/user/user.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAA2C;AACN;AACN;AACqB;AACX;AACA;AAEqE;AACjE;AAEV;AACK;AACxC;;;;;EAKE;AAEF,IAAa,YAAY;IAOvB,sBACS,IAAU,EACV,MAAuB,EACvB,OAAgB,EAChB,EAAuB;QAJhC,iBAgBC;QAfQ,SAAI,GAAJ,IAAI,CAAM;QACV,WAAM,GAAN,MAAM,CAAiB;QACvB,YAAO,GAAP,OAAO,CAAS;QAChB,OAAE,GAAF,EAAE,CAAqB;QAE9B,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QAEhC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,cAAI;YAClC,EAAE,EAAC,IAAI,CAAC,CAAC,CAAC;gBACR,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC;gBAC7B,KAAI,CAAC,eAAe,EAAE,CAAC;gBACvB,KAAI,CAAC,kBAAkB,EAAE,CAAC;gBAC1B,KAAI,CAAC,YAAY,EAAE,CAAC;YACtB,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,iCAAU,GAAV;QACE,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;IAC/B,CAAC;IAED,yCAAkB,GAAlB,UAAmB,GAAU;QAC3B,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,GAAC,GAAG,CAAC,CAAC;IACvC,CAAC;IAED,sCAAe,GAAf;QAAA,iBAOC;QANC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,SAAS,CAAC,mBAAS;YAC1D,EAAE,EAAC,SAAS,CAAC,CAAC,CAAC;gBACb,IAAI,QAAM,GAAG,SAAS,CAAC,MAAM,GAAG,QAAQ,GAAG,SAAS,CAAC;gBACrD,KAAI,CAAC,YAAY,CAAC,QAAM,CAAC,CAAC;YAC5B,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,yCAAkB,GAAlB;QACE,sDAAiB,EAAE,CAAC,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC;aAClC,YAAY,EAAE;aACd,MAAM,CAAC,EAAC,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,sDAAiB,CAAC,WAAW,CAAC,SAAS,EAAC,CAAC,CAAC;IACtG,CAAC;IAED,mCAAY,GAAZ;QAAA,iBAQC;QAPC,IAAI,CAAC,UAAU,GAAG,2DAAU;aACT,SAAS,CAAC,QAAQ,EAAE,WAAW,CAAC;aAChC,YAAY,CAAC,IAAI,CAAC;aAClB,SAAS,CAAC;YACT,KAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;YAC3B,KAAI,CAAC,UAAU,EAAE;QACnB,CAAC,CAAC,CAAC;IACvB,CAAC;IAED,iCAAU,GAAV;QAAA,iBAMC;QALC,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;QACzB,IAAI,CAAC,KAAK,GAAG,2DAAU,CAAC,KAAK,CAAC,IAAI,CAAC;aACX,SAAS,CAAC;YACV,KAAI,CAAC,YAAY,CAAC,MAAM,CAAC;QAC1B,CAAC,CAAC,CAAC;IAC5B,CAAC;IAED,mCAAY,GAAZ,UAAa,MAAc;QACzB,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,EAAC,QAAQ,EAAE,MAAM,EAAC,CAAC,CAAC;IAC1E,CAAC;IAED,+BAAQ,GAAR,UAAS,KAAY,EAAE,IAAW;QAChC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,8BAA8B,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IACtE,CAAC;IAED,oCAAa,GAAb,UAAc,KAAY;QACxB,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;IACxD,CAAC;IAED,4BAAK,GAAL,UAAM,KAAY,EAAE,IAAW;QAC7B,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IAClE,CAAC;IAED,8BAAO,GAAP;QAAA,iBAOC;QANC,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,kDAAa,CAAC,oBAAoB,EAAE,CAAC,CAAC;QACxF,MAAM,CAAC,IAAI,CAAC,UAAC,GAAG;YACd,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;YACpB,KAAI,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,QAAQ,EAAE,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,UAAU,EAAE,IAAI,EAAC,CAAC,CAAC;QACvI,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,MAAM,CAAC;IAChB,CAAC;IAED,kCAAW,GAAX;QAAA,iBAOC;QANC,IAAI,UAAU,GAAG,kDAAa,EAAE,CAAC,eAAe,CAAC,IAAI,kDAAa,CAAC,kBAAkB,EAAE,CAAC,CAAC;QACzF,UAAU,CAAC,IAAI,CAAC,UAAC,GAAG;YAClB,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;YACpB,KAAI,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,QAAQ,EAAE,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,UAAU,EAAE,IAAI,EAAC,CAAC,CAAC;QACvI,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,UAAU,CAAC;IACpB,CAAC;IAED,iCAAU,GAAV,UAAW,GAAU,EAAE,KAAY,EAAE,KAAY,EAAE,IAAW;QAC5D,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,EAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,IAAI,EAAC,CAAC,CAAC;IACvF,CAAC;IAED,oCAAa,GAAb,UAAc,GAAU;QAAxB,iBAUC;QATC,+CAA+C;QAC/C,IAAI,IAAI,GAAG,sDAAiB,EAAE,CAAC,GAAG,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC;QAEpD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;aACf,IAAI,CAAC,kBAAQ;YACZ,EAAE,EAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;gBACpC,KAAI,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,EAAC,UAAU,EAAC,IAAI,EAAC,CAAC,CAAC;YAC5D,CAAC;QACH,CAAC,CAAC;IACN,CAAC;IAED,gCAAS,GAAT;QACE,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;QAC7B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IACH,mBAAC;AAAD,CAAC;AAxHY,YAAY;IADxB,yEAAU,EAAE;qCASI,2DAAI;QACF,0EAAe;QACd,+DAAO;QACZ,kFAAmB;GAXrB,YAAY,CAwHxB;AAxHwB;;;;;;;;ACnBzB;AACA,+CAA+C,wDAAwD,EAAE;AACzG;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,6B;;;;;;;;;;;;;;;;;;;;;;;;;;ACtD2C;AACN;AACN;AACU;AACoE;AACzD;AAGpD,IAAa,YAAY;IAUvB,sBACS,IAAU,EACV,EAAuB,EACvB,MAAuB;QAHhC,iBAqBC;QApBQ,SAAI,GAAJ,IAAI,CAAM;QACV,OAAE,GAAF,EAAE,CAAqB;QACvB,WAAM,GAAN,MAAM,CAAiB;QAPhC,aAAQ,GAAG,sDAAiB,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAU3C,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,cAAI;YAC7B,KAAI,CAAC,IAAI,GAAG,KAAI,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,GAAC,IAAI,CAAC,GAAG,EAAE,EAAC,gBAAgB,EAAE,IAAI,EAAC,CAAC,CAAC;YACzE,KAAI,CAAC,IAAI,CAAC,SAAS,CAAC,kBAAQ;gBAC1B,KAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,GAAG,EAAE,CAAC;gBAC3B,IAAI,KAAK,CAAC;gBACV,EAAE,EAAC,CAAC,CAAC,OAAO,IAAI,KAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBAC3B,KAAK,GAAG,MAAM,CAAC;gBACjB,CAAC;gBAAA,IAAI,CAAC,CAAC;oBACL,KAAK,GAAG,QAAQ,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC;gBAC/B,CAAC;gBACD,KAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;gBAC/B,KAAI,CAAC,YAAY,GAAK,QAAQ,CAAC,GAAG,CAAC;gBACnC,KAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,GAAG,EAAE,CAAC,WAAW,CAAC;YACnD,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC;IAED,+BAAQ,GAAR;QACE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE;YAClC,KAAK,EAAE;gBACL,YAAY,EAAE,YAAY;gBAC1B,OAAO,EAAE,IAAI;aACd;SACF,CAAC,CAAC;QACH,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;IAED,yCAAkB,GAAlB,UAAmB,KAAY;QAC7B,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;IAC/B,CAAC;IAED,sCAAe,GAAf;QACE,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;IAC3B,CAAC;IAED,iCAAU,GAAV,UAAW,OAAc,EAAE,KAAY;QACrC,IAAI,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC;QAChC,IAAI,KAAK,GAAI,IAAI,CAAC,cAAc,CAAC;QACjC,0BAA0B;QAG1B,IAAI,QAAQ,GAAG,CAAC,KAAK,GAAG,KAAK,GAAG,KAAK,GAAC,GAAG,GAAC,KAAK,GAAG,KAAK,GAAC,GAAG,GAAC,KAAK,CAAC,CAAC;QACnE,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QACxC,IAAI,GAAG,GAAU,EAAE,CAAC;QACpB,GAAG,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;QAClB,GAAG,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;QAElB,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,aAAa,GAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAChD,IAAI,CAAC,QAAQ,GAAI,QAAQ,CAAC;QAC1B,MAAM,CAAC,QAAQ,CAAC;IAClB,CAAC;IAED,kCAAW,GAAX,UAAY,OAAc,EAAE,UAAiB;QAC3C,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,GAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;YACzC,IAAI,EAAE,IAAI,CAAC,cAAc;YACzB,WAAW,EAAE,IAAI,CAAC,eAAe;YACjC,OAAO,EAAE,OAAO;YAChB,SAAS,EAAE,sDAAiB,CAAC,WAAW,CAAC,SAAS;SACnD,CAAC,CAAC;QAEH,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,YAAU,UAAU,oBAAiB,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACtE,CAAC;IAED,gCAAS,GAAT;QACE,IAAM,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,GAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC9D,MAAM,CAAC,eAAe,CAAC;IACzB,CAAC;IAED,6CAAsB,GAAtB,UAAuB,YAAmB;QACxC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,YAAU,YAAY,MAAG,CAAC,CAAC;IACnD,CAAC;IAED,wCAAiB,GAAjB,UAAkB,SAAS;QACzB,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,YAAU,SAAS,MAAG,CAAC,CAAC;IAChD,CAAC;IAED,uCAAgB,GAAhB,UAAiB,QAAQ;QACvB,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,YAAU,QAAQ,MAAG,CAAC,CAAC;IAC/C,CAAC;IACH,mBAAC;AAAD,CAAC;AAjGY,YAAY;IADxB,yEAAU,EAAE;qCAYI,2DAAI;QACN,kFAAmB;QACf,0EAAe;GAbrB,YAAY,CAiGxB;AAjGwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRkB;AACiB;AACR;AACf;AACL;AACsB;AAItD,IAAa,iBAAiB;IAI5B,2BAAoB,EAAuB,EAAU,MAAuB;QAA5E,iBAIC;QAJmB,OAAE,GAAF,EAAE,CAAqB;QAAU,WAAM,GAAN,MAAM,CAAiB;QAH5E,cAAS,GAAG,mDAAkB,EAAE,CAAC;QAEjC,mBAAc,GAAG,IAAI,qEAAe,CAAC,IAAI,CAAC;QAExC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,UAAC,IAAI;YACnC,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC;QAC/B,CAAC,CAAC,CAAC;IACL,CAAC;IACD,uCAAW,GAAX,UAAY,KAAK;QAAjB,iBAOC;QANC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,cAAI;YAC1C,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YAC7B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;gBAAC,MAAM,CAAC;YAClB,IAAM,IAAI,aAAI,GAAC,IAAI,CAAC,GAAG,IAAG,KAAK,KAAC;YAChC,KAAI,CAAC,EAAE,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;;QAC7C,CAAC,CAAC,CAAC;IACL,CAAC;IACD,yCAAa,GAAb;QAAA,iBAaG;QAZC,IAAI,CAAC,SAAS,CAAC,iBAAiB,EAAE;aACjC,IAAI,CAAC;YACJ,OAAO,CAAC,GAAG,CAAC,kCAAkC,CAAC,CAAC;YAChD,MAAM,CAAC,KAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;QACnC,CAAC,CAAC;aACD,IAAI,CAAC,eAAK;YACT,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAC1B,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,GAAG;YACT,OAAO,CAAC,GAAG,CAAC,qCAAqC,EAAE,GAAG,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;IACL,CAAC;IACD,0CAAc,GAAd;QAAA,iBAKC;QAJE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,UAAC,OAAO;YAChC,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,OAAO,CAAC,CAAC;YAC3C,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC;IAEL,wBAAC;AAAD,CAAC;AAtCY,iBAAiB;IAD7B,yEAAU,EAAE;qCAKa,kFAAmB,EAAkB,0EAAe;GAJjE,iBAAiB,CAsC7B;AAtC6B;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTa;AACN;AACN;AACgF;AAC3D;AACf;AAIrC,IAAa,aAAa;IAIxB,uBACS,IAAU,EACV,EAAuB,EACvB,MAAuB;QAFvB,SAAI,GAAJ,IAAI,CAAM;QACV,OAAE,GAAF,EAAE,CAAqB;QACvB,WAAM,GAAN,MAAM,CAAiB;IAC7B,CAAC;IAEJ,qCAAa,GAAb,UAAc,MAAa;QACzB,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,mBAAiB,MAAQ,CAAC,CAAC;IACjD,CAAC;IAED,uCAAe,GAAf,UAAgB,MAAa;QACzB,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,mBAAiB,MAAQ,CAAC,CAAC;IACnD,CAAC;IAED,2CAAmB,GAAnB,UAAoB,UAAiB,EAAE,YAAmB,EAAE,QAAe;QAA3E,iBAyBC;QAxBC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,YAAY,CAAC;QACrC,IAAI,OAAO,GAAG,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YACxC,IAAI,WAAW,GAAG,KAAI,CAAC,EAAE,CAAC,MAAM,CAAC,mBAAiB,UAAU,SAAI,QAAU,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,iDAAiD;YACvI,WAAW,CAAC,IAAI,CAAC,iBAAO;gBACtB,kDAAiB,EAAE,CAAC,GAAG,CAAC,mBAAiB,YAAY,MAAG,CAAC,CAAC,IAAI,CAAC;oBAC7D,QAAQ,EAAE,UAAU;oBACpB,WAAW,EAAE,UAAU;oBACvB,SAAS,EAAE,kDAAiB,CAAC,WAAW,CAAC,SAAS;iBACnD,CAAC,CAAC;gBAEH,IAAI,KAAK,GAAG,EAAE,CAAC;gBACf,KAAK,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC;gBAC3B,IAAI,WAAW,GAAG,KAAI,CAAC,EAAE,CAAC,MAAM,CAAC,YAAU,UAAU,cAAW,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBAEhF,IAAI,KAAK,GAAG,EAAE,CAAC;gBACf,KAAK,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC;gBACzB,IAAI,WAAW,GAAG,KAAI,CAAC,EAAE,CAAC,MAAM,CAAC,YAAU,YAAY,gBAAa,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBACpF,OAAO,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;gBACV,MAAM,CAAC,GAAG,CAAC,CAAC;YACd,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,OAAO,CAAC;IACjB,CAAC;IAED,gCAAQ,GAAR;QACE,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC3C,CAAC;IACH,oBAAC;AAAD,CAAC;AAhDY,aAAa;IADzB,yEAAU,EAAE;qCAMI,2DAAI;QACN,kFAAmB;QACf,0EAAe;GAPrB,aAAa,CAgDzB;AAhDyB;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTiB;AACN;AACN;AACU;AACW;AAC2D;AAG/G,IAAa,YAAY;IAIvB,sBACS,IAAU,EACV,MAAuB,EACvB,IAAyB;QAHlC,iBAUC;QATQ,SAAI,GAAJ,IAAI,CAAM;QACV,WAAM,GAAN,MAAM,CAAiB;QACvB,SAAI,GAAJ,IAAI,CAAqB;QANlC,aAAQ,GAAG,sDAAiB,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAQ3C,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,cAAI;YAClC,EAAE,EAAC,IAAI,CAAC,CAAC,CAAC;gBACR,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC;YAC/B,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,4BAAK,GAAL;QACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACnC,CAAC;IAED,wCAAiB,GAAjB,UAAkB,SAAS;QAA3B,iBAiBC;QAhBC,IAAI,OAAO,GAAG,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YACxC,0BAA0B;YAC1B,sDAAiB,EAAE,CAAC,GAAG,CAAC,mBAAiB,SAAS,CAAC,GAAK,CAAC,CAAC,IAAI,CAAC;gBAC7D,QAAQ,EAAE,KAAI,CAAC,YAAY;gBAC3B,WAAW,EAAE,WAAW;gBACxB,SAAS,EAAE,sDAAiB,CAAC,WAAW,CAAC,SAAS;aACnD,CAAC,CAAC;YAEH,wCAAwC;YACxC,sDAAiB,EAAE,CAAC,GAAG,CAAC,WAAS,KAAI,CAAC,YAAY,mBAAc,SAAS,CAAC,GAAK,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAC9F,wCAAwC;YACxC,IAAI,SAAS,GAAI,sDAAiB,EAAE,CAAC,GAAG,CAAC,WAAS,SAAS,CAAC,GAAG,iBAAY,KAAI,CAAC,YAAc,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAC7G,OAAO,CAAC,SAAS,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,OAAO,CAAC;IACjB,CAAC;IACH,mBAAC;AAAD,CAAC;AAtCY,YAAY;IADxB,yEAAU,EAAE;qCAMI,2DAAI;QACF,0EAAe;QACjB,kFAAmB;GAPvB,YAAY,CAsCxB;AAtCwB;;;;;;;;;;;;ACRkD;AAElC;AAEzC,yGAAsB,EAAE,CAAC,eAAe,CAAC,8DAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJG;AACG;AACe;AACjC;AACa;AACM;AAChB;AAE3C,mBAAmB;AAC8B;AACiB;AACR;AAE1D,eAAe;AACuC;AACX;AACS;AAEpD,YAAY;AAC0C;AACA;AACe;AACZ;AAEzD,kBAAkB;AAClB,IAAM,cAAc,GAAG;IACrB,MAAM,EAAE,yCAAyC;IACjD,UAAU,EAAE,gCAAgC;IAC5C,WAAW,EAAE,uCAAuC;IACpD,aAAa,EAAE,4BAA4B;IAC3C,iBAAiB,EAAE,eAAe;CACnC;AAgDD,IAAa,SAAS;IAAtB;IAAwB,CAAC;IAAD,gBAAC;AAAD,CAAC;AAAZ,SAAS;IA9CrB,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,6DAAK;SACN;QACD,OAAO,EAAE;YACP,gFAAa;YACb,kEAAW,CAAC,OAAO,CAAC,6DAAK,EAAE;gBACzB,aAAa,EAAE,KAAK;gBACpB,kBAAkB,EAAE,IAAI;aACzB,EACL;gBACE,KAAK,EAAE;oBACL,EAAE,YAAY,EAAE,6CAA6C,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACzI,EAAE,YAAY,EAAE,0EAA0E,EAAE,IAAI,EAAE,oBAAoB,EAAE,OAAO,EAAE,iBAAiB,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACzL,EAAE,YAAY,EAAE,mDAAmD,EAAE,IAAI,EAAE,aAAa,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACnJ,EAAE,YAAY,EAAE,qEAAqE,EAAE,IAAI,EAAE,mBAAmB,EAAE,OAAO,EAAE,eAAe,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACjL,EAAE,YAAY,EAAE,mDAAmD,EAAE,IAAI,EAAE,aAAa,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACnJ,EAAE,YAAY,EAAE,sDAAsD,EAAE,IAAI,EAAE,cAAc,EAAE,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACxJ,EAAE,YAAY,EAAE,uEAAuE,EAAE,IAAI,EAAE,mBAAmB,EAAE,OAAO,EAAE,gBAAgB,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACpL,EAAE,YAAY,EAAE,sDAAsD,EAAE,IAAI,EAAE,cAAc,EAAE,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACxJ,EAAE,YAAY,EAAE,0CAA0C,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBACpI,EAAE,YAAY,EAAE,yDAAyD,EAAE,IAAI,EAAE,eAAe,EAAE,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;iBAC9J;aACF,CAAC;YACE,uEAAiB,CAAC,aAAa,CAAC,cAAc,CAAC;YAC/C,wFAAyB;YACzB,gFAAqB;YACrB,kEAAU;YACV,2EAAkB,CAAC,OAAO,EAAE;SAC7B;QACD,SAAS,EAAE,CAAC,+DAAQ,CAAC;QACrB,eAAe,EAAE;YACf,6DAAK;SACN;QACD,SAAS,EAAE;YACT,2EAAS;YACT,iFAAY;YACZ,EAAC,OAAO,EAAE,mEAAY,EAAE,QAAQ,EAAE,wEAAiB,EAAC;YACpD,2EAAY;YACZ,2EAAY;YACZ,2EAAY;YACZ,0FAAiB;YACjB,8EAAa;YACb,iEAAQ;SACT;KACF,CAAC;GACW,SAAS,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9EoB;AACC;AACF;AACY;AACM;AACL;AACjB;AAMrC,IAAa,KAAK;IAGhB,eACE,QAAkB,EAClB,SAAoB,EACpB,YAA0B,EACnB,YAA0B,EAC1B,OAAgB;QALzB,iBA4BC;QAxBQ,iBAAY,GAAZ,YAAY,CAAc;QAC1B,YAAO,GAAP,OAAO,CAAS;QAPzB,aAAQ,GAAU,aAAa,CAAC;QAS9B,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;YACpB,gEAAgE;YAChE,iEAAiE;YACjE,SAAS,CAAC,YAAY,EAAE,CAAC;YACzB,YAAY,CAAC,IAAI,EAAE,CAAC;QACtB,CAAC,CAAC,CAAC;QAEH,8CAAa,EAAE,CAAC,kBAAkB,CAAC,cAAI;YACrC,EAAE,EAAC,IAAI,CAAC,CAAC,CAAC;gBACR,KAAI,CAAC,QAAQ,GAAG,UAAU,CAAC;YAC7B,CAAC;YAAA,IAAI,CAAC,CAAC;gBACL,KAAI,CAAC,QAAQ,GAAG,aAAa,CAAC;YAChC,CAAC;QACH,CAAC,CAAC,CAAC;QACH,yCAAyC;QACzC,uBAAuB;QACvB,kCAAkC;QAClC,YAAY;QACZ,qCAAqC;QACrC,MAAM;QACN,MAAM;IACR,CAAC;IACH,YAAC;AAAD,CAAC;AAhCY,KAAK;IAHjB,wEAAS,CAAC;OACc;KACxB,CAAC;oFAKoB;QACP,iFAAS;QACN,0EAAY;QACL,iEAAY;QACjB,EAAO;AAwB1B;SAhCY,KAAK,2B","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport * as firebase from 'firebase/app';\r\nimport { Storage } from '@ionic/storage';\r\n\r\nimport { AngularFireDatabase, FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2/database';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport 'rxjs/add/observable/timer';\r\nimport 'rxjs/add/operator/throttletime';\r\n/*\r\n  Generated class for the AuthProvider provider.\r\n\r\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\r\n  for more info on providers and Angular DI.\r\n*/\r\n@Injectable()\r\nexport class AuthProvider {\r\n  users: FirebaseListObservable<any[]>;\r\n  user: FirebaseObjectObservable<any>;\r\n  loggedUserId:string;\r\n  mouseEvent: Subscription;\r\n  timer: Subscription;\r\n\r\n  constructor(\r\n    public http: Http,\r\n    public afAuth: AngularFireAuth,\r\n    public storage: Storage,\r\n    public db: AngularFireDatabase,\r\n  ) {\r\n    this.user = db.object('/users');\r\n\r\n    this.afAuth.authState.subscribe(user => {\r\n      if(user) {\r\n        this.loggedUserId = user.uid;\r\n        this.updateOnConnect();\r\n        this.updateOnDisconnect();\r\n        this.updateOnIdle();\r\n      }\r\n    });\r\n  }\r\n  \r\n  loggedUser() {\r\n    return this.afAuth.authState;\r\n  }\r\n\r\n  loggedUserMetaData(uid:string) {\r\n    return this.db.object('/users/'+uid);\r\n  }\r\n\r\n  updateOnConnect() {\r\n    return this.db.object('.info/connected').subscribe(connected => {\r\n      if(connected) {\r\n        let status = connected.$value ? 'online' : 'offline';\r\n        this.updateStatus(status);\r\n      }\r\n    });\r\n  }\r\n\r\n  updateOnDisconnect() {\r\n    firebase.database().ref('/users/' + this.loggedUserId)\r\n                       .onDisconnect()\r\n                       .update({status: 'offline', lastLogin: firebase.database.ServerValue.TIMESTAMP});\r\n  }\r\n\r\n  updateOnIdle() {\r\n    this.mouseEvent = Observable\r\n                      .fromEvent(document, \"mouseMove\")\r\n                      .throttleTime(2000)\r\n                      .subscribe(() => {\r\n                        this.updateStatus('online')\r\n                        this.resetTimer()\r\n                      }); \r\n  }\r\n\r\n  resetTimer() {\r\n    this.timer.unsubscribe();\r\n    this.timer = Observable.timer(5000)\r\n                           .subscribe(() => {\r\n                            this.updateStatus('away')\r\n                           });\r\n  }\r\n\r\n  updateStatus(status: string) {\r\n    this.db.object('users/' + this.loggedUserId).update({'status': status});\r\n  }\r\n\r\n  register(email:string, pass:string) {\r\n    return this.afAuth.auth.createUserWithEmailAndPassword(email, pass);\r\n  }\r\n\r\n  resetPassword(email:string) {\r\n    return this.afAuth.auth.sendPasswordResetEmail(email);\r\n  }\r\n\r\n  login(email:string, pass:string) {\r\n    return this.afAuth.auth.signInWithEmailAndPassword(email, pass);\r\n  }\r\n\r\n  fbLogin() {\r\n    let fbAuth = this.afAuth.auth.signInWithPopup(new firebase.auth.FacebookAuthProvider());\r\n    fbAuth.then((res) => {\r\n      let data = res.user;\r\n      this.db.object('/users/' + data.uid).set({email: data.email, photo: data.photoURL, displayName: data.displayName, isVerified: true});\r\n    });\r\n    return fbAuth;\r\n  }\r\n\r\n  googleLogin() {\r\n    let googleAuth = firebase.auth().signInWithPopup(new firebase.auth.GoogleAuthProvider());\r\n    googleAuth.then((res) => {\r\n      let data = res.user;\r\n      this.db.object('/users/' + data.uid).set({email: data.email, photo: data.photoURL, displayName: data.displayName, isVerified: true});\r\n    });\r\n    return googleAuth;\r\n  }\r\n\r\n  createUser(uId:string, email:string, photo:string, name:string) {\r\n    this.db.object('/users/' + uId).set({email: email, photo: photo, displayName: name});\r\n  }\r\n\r\n  loginVerified(uId:string) {\r\n    // check first if user account already verified\r\n    let user = firebase.database().ref('/users/' + uId);\r\n\r\n    user.once(\"value\")\r\n      .then(snapshot => {\r\n        if(!snapshot.hasChild('isVerified')) {\r\n          this.db.object('/users/' + uId).update({isVerified:true});\r\n        }\r\n      })\r\n  }\r\n\r\n  loggedOut() {\r\n    this.updateStatus('offline');\r\n    this.afAuth.auth.signOut();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth/auth.ts","function webpackEmptyAsyncContext(req) {\n\treturn new Promise(function(resolve, reject) { reject(new Error(\"Cannot find module '\" + req + \"'.\")); });\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 167;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 167\n// module chunks = 10","var map = {\n\t\"../pages/chats/chats.module\": [\n\t\t468,\n\t\t9\n\t],\n\t\"../pages/individual-chat/individual-chat.module\": [\n\t\t469,\n\t\t8\n\t],\n\t\"../pages/landing/landing.module\": [\n\t\t470,\n\t\t7\n\t],\n\t\"../pages/notifications/notifications.module\": [\n\t\t471,\n\t\t6\n\t],\n\t\"../pages/profile/profile.module\": [\n\t\t472,\n\t\t5\n\t],\n\t\"../pages/register/register.module\": [\n\t\t473,\n\t\t4\n\t],\n\t\"../pages/reset-password/reset-password.module\": [\n\t\t474,\n\t\t3\n\t],\n\t\"../pages/settings/settings.module\": [\n\t\t475,\n\t\t2\n\t],\n\t\"../pages/tabs/tabs.module\": [\n\t\t476,\n\t\t1\n\t],\n\t\"../pages/userslist/userslist.module\": [\n\t\t477,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nmodule.exports = webpackAsyncContext;\nwebpackAsyncContext.id = 208;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 208\n// module chunks = 10","import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport * as firebase from 'firebase/app';\r\nimport {AngularFireDatabase, FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2/database';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\n\r\n@Injectable()\r\nexport class ChatProvider {\r\n  users: FirebaseListObservable<any>;\r\n  user: FirebaseObjectObservable<any>;\r\n  loggedUserId:string;\r\n  loggedUserName:string;\r\n  loggedUserPhoto:string;\r\n  usersRef = firebase.database().ref('/users');\r\n  chats: FirebaseListObservable<any>;\r\n  roomName:any;\r\n\r\n  constructor(\r\n    public http: Http,\r\n    public db: AngularFireDatabase,\r\n    public afAuth: AngularFireAuth,\r\n  ) {\r\n\r\n    afAuth.authState.subscribe(user => {\r\n      this.user = this.db.object('/users/'+user.uid, {preserveSnapshot: true});\r\n      this.user.subscribe(userData => {\r\n        this.user = userData.val();\r\n        let photo;\r\n        if(!('photo' in this.user)) {\r\n          photo = 'none';\r\n        }else {\r\n          photo = userData.val().photo;\r\n        }\r\n        this.getLoggedUserPhoto(photo);\r\n        this.loggedUserId   = userData.key;\r\n        this.loggedUserName = userData.val().displayName;\r\n      })\r\n    });\r\n  }\r\n\r\n  getUsers() {\r\n    this.users = this.db.list('/users', {\r\n      query: {\r\n        orderByChild: 'isVerified',\r\n        equalTo: true\r\n      }\r\n    });\r\n    return this.users;\r\n  }\r\n\r\n  getLoggedUserPhoto(photo:string) {\r\n    this.loggedUserPhoto = photo;\r\n  }\r\n\r\n  getLoggedUserId() {\r\n    return this.loggedUserId;\r\n  }\r\n\r\n  chatMember(user2Id:string, user2:string) {\r\n    let user1Id = this.loggedUserId;\r\n    let user1  = this.loggedUserName;\r\n    // let user2 = receiverId;\r\n\r\n\r\n    let roomName = (user1 < user2 ? user1+'_'+user2 : user2+'_'+user1);\r\n    roomName = roomName.replace(/\\ /g, '-');\r\n    let obj:object = {};\r\n    obj[user1] = true;\r\n    obj[user2] = true;\r\n\r\n    this.db.object('/chat_room/'+roomName).set(obj);\r\n    this.roomName  = roomName;\r\n    return roomName;\r\n  }\r\n\r\n  sendMessage(chatMsg:string, receiverId:string) {\r\n    this.db.list('/chats/'+this.roomName).push({\r\n      name: this.loggedUserName,\r\n      senderPhoto: this.loggedUserPhoto,\r\n      message: chatMsg,\r\n      timestamp: firebase.database.ServerValue.TIMESTAMP\r\n    });\r\n    \r\n    let unreadObj = {};\r\n    unreadObj[this.roomName] = true;\r\n    this.db.list(`/users/${receiverId}/unreadMessage/`).push(unreadObj);\r\n  }\r\n\r\n  loadChats() {\r\n    const chatsObservable = this.db.list('/chats/'+this.roomName);\r\n    return chatsObservable;\r\n  }\r\n\r\n  loadChatUsersFriendReq(loggedUserId:string) {\r\n    return this.db.object(`/users/${loggedUserId}/`);\r\n  }\r\n\r\n  getFriendMetaData(friendKey) {\r\n    return this.db.object(`/users/${friendKey}/`);\r\n  }\r\n\r\n  lastUreadMessage(roomName) {\r\n    return this.db.object(`/chats/${roomName}/`);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/chat/chat.ts","import { Injectable } from '@angular/core';\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport * as firebase from 'firebase';\r\nimport 'rxjs/add/operator/take';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject'\r\n\r\n\r\n@Injectable()\r\nexport class PushnotifProvider {\r\n  messaging = firebase.messaging();\r\n  userLoggedId:string;\r\n  currentMessage = new BehaviorSubject(null)\r\n  constructor(private db: AngularFireDatabase, private afAuth: AngularFireAuth) {\r\n    this.afAuth.authState.subscribe((user) => {\r\n      this.userLoggedId = user.uid;\r\n    });\r\n  }\r\n  updateToken(token) {\r\n    this.afAuth.authState.take(1).subscribe(user => {\r\n      console.log('updated . . .');\r\n      if (!user) return;\r\n      const data = {[user.uid]: token}\r\n      this.db.object('/fcmTokens/').update(data);\r\n    });\r\n  }\r\n  getPermission() {\r\n      this.messaging.requestPermission()\r\n      .then(() => {\r\n        console.log('Notification permission granted.');\r\n        return this.messaging.getToken();\r\n      })\r\n      .then(token => {\r\n        console.log(token);\r\n        this.updateToken(token);\r\n      })\r\n      .catch((err) => {\r\n        console.log('Unable to get permission to notify.', err);\r\n      });\r\n    }\r\n    receiveMessage() {\r\n       this.messaging.onMessage((payload) => {\r\n        console.log(\"Message received. \", payload);\r\n        this.currentMessage.next(payload);\r\n      });\r\n    }\r\n    \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/pushnotif/pushnotif.ts","import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport { AngularFireDatabase, FirebaseObjectObservable, FirebaseListObservable  } from 'angularfire2/database';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport * as firebase from 'firebase';\r\nimport {Observable} from 'rxjs/Observable';\r\n\r\n@Injectable()\r\nexport class NotifProvider {\r\n  loggedUserId:string;\r\n  notifCount: FirebaseListObservable<any>;\r\n\r\n  constructor(\r\n    public http: Http,\r\n    public db: AngularFireDatabase,\r\n    public afAuth: AngularFireAuth\r\n  ) {}\r\n\r\n  getNotifCount(userId:string) {\r\n    return this.db.list(`/notification/${userId}`);\r\n  }\r\n\r\n  loadListOfNotif(userId:string) {\r\n      return this.db.list(`/notification/${userId}`);\r\n  }\r\n\r\n  acceptFriendRequest(acceptorId:string, senderUserId:string, notifKey:string) {\r\n    console.log('senderId', senderUserId)\r\n    let promise = new Promise((resolve, reject) => {\r\n      let removeNotif = this.db.object(`/notification/${acceptorId}/${notifKey}`).remove(); // remove the notification nodes under notif key.\r\n      removeNotif.then(success => {\r\n        firebase.database().ref(`/notification/${senderUserId}/`).push({\r\n          senderId: acceptorId,\r\n          description: 'accepted',\r\n          dateAdded: firebase.database.ServerValue.TIMESTAMP\r\n        });\r\n        \r\n        let $obj1 = {};\r\n        $obj1[senderUserId] = true;\r\n        let updateUser1 = this.db.object(`/users/${acceptorId}/friends/`).update($obj1);\r\n\r\n        let $obj2 = {};\r\n        $obj2[acceptorId] = true;\r\n        let updateUser2 = this.db.object(`/users/${senderUserId}/friendReq/`).update($obj2);\r\n        resolve(true);\r\n      }).catch(err => {\r\n        reject(err);\r\n      });\r\n    });\r\n\r\n    return promise;\r\n  }\r\n\r\n  getUsers() {\r\n    return this.db.object(`/users/`).take(1);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/notif/notif.ts","import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport * as firebase from 'firebase/app';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { AngularFireDatabase, FirebaseObjectObservable, FirebaseListObservable  } from 'angularfire2/database';\r\n\r\n@Injectable()\r\nexport class UserProvider {\r\n  usersRef = firebase.database().ref('users/');\r\n  loggedUserId:string;\r\n\r\n  constructor(\r\n    public http: Http, \r\n    public afAuth: AngularFireAuth,\r\n    public afdb: AngularFireDatabase\r\n  ) {\r\n    this.afAuth.authState.subscribe(user => {\r\n      if(user) {\r\n        this.loggedUserId = user.uid;\r\n      }\r\n    });\r\n  }\r\n\r\n  users() {\r\n    return this.afdb.list(`/users/`);\r\n  }\r\n\r\n  sendFriendRequest(recipient) {\r\n    let promise = new Promise((resolve, reject) => {\r\n      // insert new notification\r\n      firebase.database().ref(`/notification/${recipient.key}`).push({\r\n        senderId: this.loggedUserId,\r\n        description: 'requested',\r\n        dateAdded: firebase.database.ServerValue.TIMESTAMP\r\n      });\r\n\r\n      // add friendReq node to the sender user\r\n      firebase.database().ref(`users/${this.loggedUserId}/friendReq/${recipient.key}`).set('false');\r\n      // add friend node to the recipient user\r\n      let friendReq =  firebase.database().ref(`users/${recipient.key}/friends/${this.loggedUserId}`).set('false');\r\n      resolve(friendReq);\r\n    });\r\n\r\n    return promise;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user/user.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\r\nimport { MyApp } from './app.component';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { DatePipe } from '@angular/common';\r\n\r\n// Firebase Imports\r\nimport { AngularFireModule } from 'angularfire2';\r\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\r\nimport { AngularFireAuthModule } from 'angularfire2/auth';\r\n\r\n// Auth Service\r\nimport { AuthProvider } from '../providers/auth/auth';\r\nimport { HttpModule } from '@angular/http';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\n\r\n// Providers\r\nimport { ChatProvider } from '../providers/chat/chat';\r\nimport { UserProvider } from '../providers/user/user';\r\nimport { PushnotifProvider } from '../providers/pushnotif/pushnotif';\r\nimport { NotifProvider } from '../providers/notif/notif';\r\n\r\n// Firebase Config\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAAGkJZJsX9QGUEkKzx_ZEEzQWFJJ27oEs\",\r\n  authDomain: \"ionicapp-2e811.firebaseapp.com\",\r\n  databaseURL: \"https://ionicapp-2e811.firebaseio.com\",\r\n  storageBucket: \"ionicapp-2e811.appspot.com\",\r\n  messagingSenderId: \"1063432282060\"\r\n}\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyApp\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    IonicModule.forRoot(MyApp, {\r\n      tabsPlacement: 'top',\r\n      tabsHideOnSubPages: true\r\n    }, \n{\n  links: [\n    { loadChildren: '../pages/chats/chats.module#ChatsPageModule', name: 'ChatsPage', segment: 'chats', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/individual-chat/individual-chat.module#IndividualChatPageModule', name: 'IndividualChatPage', segment: 'individual-chat', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/landing/landing.module#LandingPageModule', name: 'LandingPage', segment: 'landing', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/notifications/notifications.module#NotificationsPageModule', name: 'NotificationsPage', segment: 'notifications', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/profile/profile.module#ProfilePageModule', name: 'ProfilePage', segment: 'profile', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/register/register.module#RegisterPageModule', name: 'RegisterPage', segment: 'register', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/reset-password/reset-password.module#ResetPasswordPageModule', name: 'ResetPasswordPage', segment: 'reset-password', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/settings/settings.module#SettingsPageModule', name: 'SettingsPage', segment: 'settings', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/tabs/tabs.module#TabsPageModule', name: 'TabsPage', segment: 'tabs', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/userslist/userslist.module#UserslistPageModule', name: 'UserslistPage', segment: 'userslist', priority: 'low', defaultHistory: [] }\n  ]\n}),\r\n    AngularFireModule.initializeApp(firebaseConfig), // imports firebase/app needed for everything\r\n    AngularFireDatabaseModule, // imports firebase/database, only needed for database features\r\n    AngularFireAuthModule, // imports firebase/auth, only needed for auth features,\r\n    HttpModule, \r\n    IonicStorageModule.forRoot(),\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\r\n    AuthProvider,\r\n    ChatProvider,\r\n    UserProvider,\r\n    PushnotifProvider,\r\n    NotifProvider,\r\n    DatePipe\r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { PushnotifProvider } from './../providers/pushnotif/pushnotif';\r\nimport { Component } from '@angular/core';\r\nimport { Platform,  } from 'ionic-angular';\r\nimport { Storage } from '@ionic/storage';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { AuthProvider } from '../providers/auth/auth';\r\nimport * as firebase from 'firebase';\r\n\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  rootPage:string = 'LandingPage'; \r\n\r\n  constructor(\r\n    platform: Platform, \r\n    statusBar: StatusBar, \r\n    splashScreen: SplashScreen,\r\n    public authProvider: AuthProvider,\r\n    public storage: Storage\r\n  ) {\r\n    platform.ready().then(() => {\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      statusBar.styleDefault();\r\n      splashScreen.hide();\r\n    });\r\n\r\n    firebase.auth().onAuthStateChanged(user => {\r\n      if(user) {\r\n        this.rootPage = 'TabsPage';\r\n      }else {\r\n        this.rootPage = 'LandingPage';\r\n      }\r\n    });\r\n    // storage.get('userId').then((user) => {\r\n    //   if(user != null) {\r\n    //     this.rootPage = 'TabsPage';\r\n    //   }else {\r\n    //     this.rootPage = 'LandingPage';\r\n    //   }\r\n    // });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}